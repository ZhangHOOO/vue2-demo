(window.webpack_jsonp_ssr_genesis=window.webpack_jsonp_ssr_genesis||[]).push([[4],{178:function(t,e,n){"use strict";n.r(e);var r=n(212),u=n(188);for(var a in u)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return u[t]}))}(a);var i=n(57),s=Object(i.a)(u.default,r.a,r.b,!1,null,null,null);e.default=s.exports},179:function(t,e,n){"use strict";n.r(e);var r=n(180),u=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e.default=u.a},180:function(t,e,n){"use strict";var r=n(9);n(102),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u,a,i,s,c,o=r(n(196)),f=r(n(31)),l=r(n(30)),d=r(n(60)),p=r(n(100)),v=r(n(101)),h=r(n(54)),m=r(n(197)),y=(r(n(198)),r(n(16))),b=n(182);function g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,h.default)(t);if(e){var u=(0,h.default)(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return(0,v.default)(this,n)}}var x=(u=(0,b.Component)({}),a=(0,b.Prop)({type:String,default:""}),u((s=function(t){(0,p.default)(n,t);var e=g(n);function n(){var t;(0,l.default)(this,n);for(var r=arguments.length,u=new Array(r),a=0;a<r;a++)u[a]=arguments[a];return t=e.call.apply(e,[this].concat(u)),(0,o.default)(t,"title",c,(0,d.default)(t)),t}return(0,f.default)(n)}(y.default),c=(0,m.default)(s.prototype,"title",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),i=s))||i);e.default=x},181:function(t,e,n){},185:function(t,e,n){"use strict";n.r(e);var r=n(190),u=n(179);for(var a in u)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return u[t]}))}(a);n(186);var i=n(57),s=Object(i.a)(u.default,r.a,r.b,!1,null,"6b5d0bca",null);e.default=s.exports},186:function(t,e,n){"use strict";n(181)},187:function(t,e,n){"use strict";var r=n(9);n(55),Object.defineProperty(e,"__esModule",{value:!0}),e.BaseVue=void 0;var u=r(n(17));n(13);var a=r(n(18)),i=r(n(30)),s=r(n(31)),c=r(n(100)),o=r(n(101)),f=r(n(54));function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,f.default)(t);if(e){var u=(0,f.default)(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return(0,o.default)(this,n)}}var d=function(t){(0,c.default)(f,t);var e,n,r,o=l(f);function f(){return(0,i.default)(this,f),o.apply(this,arguments)}return(0,s.default)(f,[{key:"state",get:function(){return this.$store.state}},{key:"request",get:function(){return this.$root.$options.request}},{key:"signin",value:function(t){this.$store.commit("signin",t)}},{key:"signout",value:function(){this.$store.commit("signin","")}},{key:"getBlogList",value:(r=(0,a.default)(u.default.mark((function t(){var e;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request.get("/api/blog/list");case 2:(e=t.sent).success&&this.$store.commit("getBlogList",e.data.list);case 4:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"postBlog",value:(n=(0,a.default)(u.default.mark((function t(e){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request.post("/api/blog",{author:this.state.user.name,content:e});case 2:if(!t.sent.success){t.next=6;break}return this.getBlogList(),t.abrupt("return",!0);case 6:return alert("发表失败"),t.abrupt("return",!1);case 8:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"getCurrentUser",value:(e=(0,a.default)(u.default.mark((function t(){var e;return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.request.get("/api/current-user");case 2:if(!(e=t.sent).success){t.next=5;break}return t.abrupt("return",this.signin(e.data.name));case 5:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),f}(r(n(16)).default);e.BaseVue=d},188:function(t,e,n){"use strict";n.r(e);var r=n(189),u=n.n(r);for(var a in r)["default"].indexOf(a)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e.default=u.a},189:function(t,e,n){"use strict";var r=n(9);n(102),n(55),Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=r(n(17));n(13);var a,i=r(n(18)),s=r(n(30)),c=r(n(31)),o=r(n(100)),f=r(n(101)),l=r(n(54)),d=n(182),p=r(n(185)),v=n(187);function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=(0,l.default)(t);if(e){var u=(0,l.default)(this).constructor;n=Reflect.construct(r,arguments,u)}else n=r.apply(this,arguments);return(0,f.default)(this,n)}}var m=(0,d.Component)({components:{VHeader:p.default},metaInfo:function(){return{title:"登录"}}})(a=function(t){(0,o.default)(r,t);var e,n=h(r);function r(){var t;(0,s.default)(this,r);for(var e=arguments.length,u=new Array(e),a=0;a<e;a++)u[a]=arguments[a];return(t=n.call.apply(n,[this].concat(u))).name="",t}return(0,c.default)(r,[{key:"submit",value:(e=(0,i.default)(u.default.mark((function t(){return u.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.name){t.next=2;break}return t.abrupt("return",alert("请输入昵称"));case 2:return t.next=4,this.request.post("/api/signin",{name:this.name});case 4:if(!t.sent.success){t.next=9;break}return this.signin(this.name),this.$router.back(),t.abrupt("return");case 9:alert("登录失败");case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),r}(v.BaseVue))||a;e.default=m},190:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u}));var r=function(){var t=this.$createElement,e=this._self._c||t;return e("header",{staticClass:"header"},[this.title?e("h2",{staticClass:"title"},[this._v(this._s(this.title))]):this._e()])},u=[]},212:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return u}));var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("VHeader",{attrs:{title:"登录"}}),t._v(" "),n("form",{on:{submit:function(t){t.preventDefault()}}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],attrs:{placeholder:"请输入你的昵称"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),n("button",{on:{click:t.submit}},[t._v("登录")])])],1)},u=[]}}]);